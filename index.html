<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SkySure Inspections</title>
  <style>
    html { scroll-behavior: smooth; }

    :root{
      --brand:#0E1F2F;
      --accent:#EA5A1F;
      --ink:#1A2A3A;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      /* Reduced huge padding; responsive for mobile */
      padding-top: 340px;
      color: var(--ink);
      background: url('Background.png') no-repeat center center fixed;
      background-size: cover;
      position: relative;
      overflow-x: hidden;
      background-color: transparent;
    }

    /* Avoid iOS jank for fixed backgrounds */
    @media (max-width: 700px){
      body{ padding-top: 200px; background-attachment: scroll; }
    }

    .nav-container {
      background-color: var(--brand);
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1005; /* ABOVE header/logo so all links show */
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px 10px;
    }

    nav {
      background: transparent;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
      display: inline-block;
      padding: 8px 0;
    }

    .cta-top-left {
      position: fixed;
      top: 75px;
      left: 20px;
      z-index: 1003;
    }
    .cta-top-left button {
      background-color: var(--accent);
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      font-weight: bold;
      border: none;
      cursor: pointer;
    }

    #appointment-form {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,.45);
      z-index: 1006;
      padding: 20px;
    }
    #appointment-form .modal-card{
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 560px;
      width: 100%;
      margin: 8vh auto 0;
      position: relative;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    #appointment-form .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      line-height: 1;
    }
    #appointment-form input,
    #appointment-form select,
    #appointment-form textarea {
      width: 100%;
      margin: 10px 0;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font: inherit;
    }
    #appointment-form button {
      background-color: var(--brand);
      color: white;
      padding: 12px 16px;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
    }

    #confirmation-popup {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      z-index: 1007;
      padding: 20px;
      text-align: center;
    }
    #confirmation-popup .confirm-card{
      background-color: white;
      border: 2px solid var(--brand);
      border-radius: 10px;
      padding: 30px;
      max-width: 420px;
      width: 100%;
      margin: 20vh auto 0;
      position: relative;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    #confirmation-popup .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      line-height: 1;
    }

    /* Header no longer fixed so it won't cover the nav */
    header {
      background-color: transparent;
      padding: 10px 20px 0;
      text-align: center;
      position: relative; /* was fixed */
      top: auto;
      width: 100%;
      height: auto;
      z-index: 1002;
    }
    header img {
      max-width: 300px;
      height: auto;
      display: block;
      margin: 0 auto;
      background: transparent;
      transition: all 0.5s ease;
    }
    .logo-fixed-small {
      max-width: 150px !important;
      position: fixed;
      top: 14px;
      right: 14px;
      margin: 0 !important;
      z-index: 1008;
    }

    section {
      padding: 30px;
      background-color: transparent;
      margin-top: 40px;
      border-radius: 8px;
      position: relative;
    }
    h2 { color: var(--brand); }

    /* White card utility for readability */
    .content-card{
      background: rgba(255,255,255,.92);
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,.12);
      max-width: 900px;
      margin: 0 auto;
    }

    footer {
      background-color: var(--brand);
      color: white;
      text-align: center;
      padding: 15px;
      font-size: 0.9rem;
      position: relative;
    }

    strong { color: var(--accent); }

    .service-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 30px;
      margin: 0 auto;
      max-width: 1000px;
    }
    .service-box {
      background-color: #ffffffcc;
      padding: 25px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    /* Make two cols on midsize, three on wide */
    @media (min-width: 700px){
      .service-grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (min-width: 1000px){
      .service-grid{ grid-template-columns: repeat(3, 1fr); }
    }
  </style>
</head>
<body>
  <div class="nav-container">
    <nav>
      <a href="#top">Home</a>
      <a href="#services">Services</a>
      <a href="#about">About</a>
    </nav>
  </div>

  <div class="cta-top-left">
    <button onclick="toggleForm()">Schedule an Inspection</button>
  </div>

  <div id="appointment-form" role="dialog" aria-modal="true" aria-labelledby="formTitle">
    <div class="modal-card">
      <span class="close-btn" onclick="toggleForm()" aria-label="Close">&times;</span>
      <h3 id="formTitle">Schedule an Inspection</h3>
      <form id="inspection-form" action="https://formspree.io/f/xnnzvgyl" method="POST">
        <input type="text" name="Name" placeholder="Name" required>
        <input type="email" name="Email" placeholder="Email" required>
        <input type="tel" name="Phone" placeholder="Phone #" inputmode="tel">
        <select name="Service">
          <option value="Roof Snapshot">Roof Snapshot</option>
          <option value="Detailed Roof Report">Detailed Roof Report</option>
          <option value="Realtor Marketing Add-On">Realtor Marketing Add-On</option>
          <option value="Land Survey Flyover">Land Survey Flyover</option>
          <option value="Insurance Claim Documentation">Insurance Claim Documentation</option>
        </select>
        <input type="text" name="Timeframe" placeholder="Preferred Timeframe">
        <textarea name="Comments" placeholder="Additional Comments" rows="4"></textarea>
        <button type="submit">Submit</button>
      </form>
    </div>
  </div>

  <header id="top">
    <img
      id="main-logo"
      src="Final_Logo_Transparent.png"
      alt="SkySure Inspections Logo"
      onerror="this.onerror=null; this.src='Final_Logo.png';"
      class="logo-large"
      style="background-color: transparent;"
    />
  </header>

  <section id="services" style="scroll-margin-top: 100px;">
    <h2>Services</h2>
    <div class="service-grid">
      <div class="service-box">
        <h3>Roof Snapshot</h3>
        <p>High-resolution aerial imagery for a quick overview of your roof’s condition.</p>
        <p><strong>$125 / $175</strong></p>
      </div>
      <div class="service-box">
        <h3>Detailed Roof Report</h3>
        <p>In-depth drone imaging documenting wear or damage—great for buyers or sellers.</p>
        <p><strong>$150 / $200</strong></p>
      </div>
      <div class="service-box">
        <h3>Realtor Marketing Add-On</h3>
        <p>Aerial footage to elevate your listing with dramatic views and visual clarity.</p>
        <p><strong>$50 Add-On</strong></p>
      </div>
      <div class="service-box">
        <h3>Land Survey Flyover</h3>
        <p>Visualize property lines, terrain, and boundaries for undeveloped or large parcels.</p>
        <p><strong>Quote Required</strong></p>
      </div>
      <div class="service-box">
        <h3>Insurance Claim Documentation</h3>
        <p>Capture detailed roof damage imagery to support faster, smoother claim resolution.</p>
        <p><strong>$150 Flat Rate</strong></p>
      </div>
    </div>
  </section>

  <section id="about" style="scroll-margin-top: 100px;">
    <h2>About SkySure</h2>
    <div class="content-card">
      <p>
        SkySure Inspections was created to give buyers, sellers, homeowners, and real estate agents peace of mind by offering a bird’s-eye view of one of the most expensive components of a home—the roof. With drone technology, we provide sharp aerial imagery that shows roof condition, potential damage, and layout before making an offer or listing a property. Our mission is to deliver fast, visual confidence from above.
      </p>
    </div>
  </section>

  <div style="height: 300px;"></div>

  <footer>
    FAA Part 107 Certified | Insured | Not a home inspection – just a clear, sky-high view of what matters most.<br><br>
    <strong>Email:</strong> aaron@skysure.com<br>
    <strong>Phone:</strong> 704-885-5795<br>
    <strong>Location:</strong> Charlotte & surrounding areas<br>
    <strong>Hours:</strong> M–F 9am–8pm | Sat 9am–6pm | Sun 9am–12pm
  </footer>

  <div id="confirmation-popup" role="alertdialog" aria-labelledby="confirmTitle">
    <div class="confirm-card">
      <span class="close-btn" onclick="closePopup()" aria-label="Close">&times;</span>
      <p id="confirmTitle"><strong>Request received.</strong><br>Someone will contact you shortly.</p>
    </div>
  </div>

  <script>
    function toggleForm() {
      const overlay = document.getElementById("appointment-form");
      const isOpen = overlay.style.display === "block";
      overlay.style.display = isOpen ? "none" : "block";
      document.body.style.overflow = isOpen ? "" : "hidden";
    }

    function closePopup() {
      document.getElementById("confirmation-popup").style.display = "none";
    }

    // Close modal on backdrop click or Esc
    const modalOverlay = document.getElementById('appointment-form');
    modalOverlay.addEventListener('click', (e)=>{ if(e.target === modalOverlay) toggleForm(); });
    window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ 
      if(modalOverlay.style.display === 'block') toggleForm();
      closePopup();
    }});

    const formElement = document.getElementById("inspection-form");
    if (formElement) {
      formElement.addEventListener("submit", function(event) {
        event.preventDefault();

        const formData = new FormData(formElement);

        fetch(formElement.action, {
          method: "POST",
          body: formData,
          headers: { 'Accept': 'application/json' }
        }).then(response => {
          if (response.ok) {
            document.getElementById("appointment-form").style.display = "none";
            document.getElementById("confirmation-popup").style.display = "block";
            document.body.style.overflow = "";
            formElement.reset();
          } else {
            alert("There was a problem submitting the form. Please try again later.");
          }
        }).catch(error => {
          alert("There was an error sending your request.");
          console.error(error);
        });
      });
    }

    // Logo resize/move when reaching Services
    const logo = document.getElementById('main-logo');
    const services = document.getElementById('services');
    function onScroll(){
      const triggerY = services.offsetTop - 120; // room for top bar
      if (window.scrollY >= triggerY) logo.classList.add('logo-fixed-small');
      else logo.classList.remove('logo-fixed-small');
    }
    window.addEventListener('scroll', onScroll, { passive:true });
    onScroll(); // run once on load
  </script>
</body>
</html>
